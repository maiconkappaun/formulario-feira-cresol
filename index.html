<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário Cresol</title>
    <style>
        body {
            background-color: white;
            /* Cor de fundo padrão */
            transition: background-color 1s ease;
            /* Transição suave da cor de fundo */
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            transition: background-color 1s ease;
            background-image: url('https://cresol.com.br/wp-content/uploads/2022/04/Icone-03-300x300.png');
            background-color: rgba(245, 130, 32, 0.3);
            background-size: 7em;
        }

        label {
            color: #F58220;
        }

        input[type="text"],
        input[type="number"] {
            padding: 10px;
            border: none;
            border-bottom: 2px solid #F58220;
            margin: 10px;
            width: 90%;
            outline: none;
            font-size: 18pt;
        }

        input[type="text"]:focus,
        input[type="number"]:focus {
            background-color: #d254002a;
        }

        #mensagem2 {
            color: red;
            display: none;
        }

        button {
            /* display: none; */
            background-color: #F58220;
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 18pt;
        }

        button:hover {
            background-color: #D25400;
        }

        #quiz-container {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            text-align: left;
        }

        h1 {
            color: #F58220;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.068);
        }

        h3 {
            color: #005C46;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.068);
        }

        label {
            font-size: 16pt;
        }

        #botao {
            display: none;
        }

        @media (max-width: 770px) {
            #quiz-container {
                width: 80%;
            }
        }

        /* Estilização do checkbox */
        input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        /* Estilo do visual do checkbox */
        input[type="checkbox"]+label::before {
            content: "";
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 2px solid #F58220;
            background-color: transparent;
            border-radius: 3px;
        }

        /* Estilo do checkbox marcado */
        input[type="checkbox"]:checked+label::before {
            background-color: #F58220;
        }

        /* Estilo do texto da label */
        label {
            font-size: 16pt;
            color: #F58220;
            display: flex;
            align-items: center;
        }

        /* Estilo do modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.7);
        }

        /* Conteúdo do modal */
        .modal-conteudo {
            background-color: #fff;
            margin: 10% auto;
            padding: 20px;
            border-radius: 5px;
            width: 80%;
            max-width: 600px;
            position: relative;
        }

        /* Estilo do botão de fechar */
        .fecharModal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
        }

        .fecharModal:hover {
            color: #F58220;
        }

        /* Estilizando o link com a classe "link-modal" */
        .link-modal {
            color: #005C46;
            /* Cor laranja */
            text-decoration: underline;
            /* Adicione sublinhado (opcional) */
        }

        .link-modal:hover {
            color: #003025;
            /* Cor laranja mais escura ao passar o mouse (opcional) */
        }

        /* Estilização dos radio buttons */
        .radio-socio {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        /* Estilo do visual dos radio buttons */
        .radio-socio+label::before {
            content: "";
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 2px solid #F58220;
            background-color: transparent;
            border-radius: 50%;
        }

        /* Estilo dos radio buttons marcados */
        .radio-socio:checked+label::before {
            background-color: #F58220;
        }

        /* Estilo do texto da label */
        .radio-socio+label {
            font-size: 16pt;
            color: #F58220;
            display: flex;
            align-items: center;
        }

        /* Alinhamento horizontal dos radio buttons com o texto da label */
        .radio-group {
            display: flex;
            align-items: center;
        }

        /* Espaçamento entre os radio buttons e labels */
        .radio-group label {
            margin-right: 20px;
        }
    </style>
</head>

<body>
    <div id="quiz-container">
        <h1 style="text-align: center;" id="titulo">Quase lá...</h1>
        <h3 style="text-align: center;" id="titulo2">Cadastre-se e concora a prêmios!</h3>
        <!-- <div style="display: none;" id="qrcode">
            <img src="Qrlogo-free.png" alt="">
            <button id="reiniciar" onclick="reiniciar()">Novo</button>
        </div> -->
        <div id="divnome">
            <label for="">Nome completo:</label>
            <input type="text" name="nome" id="nome" oninput="verificarCampos()">
        </div>
        <div id="divcpf">
            <label for="">CPF:</label>
            <input type="number" name="cpf" id="cpf" oninput="verificarCampos()">
        </div>
        <div id="divtelefone">
            <label for="">Telefone:</label>
            <input type="number" name="telefone" id="telefone" oninput="verificarCampos()">
        </div>
        <div id="divsocio">
            <label>É associado(a):</label>
            <br>
            <div class="radio-group">
                <input type="radio" name="socio" value="sim" id="socioSim" class="radio-socio"
                    onchange="verificarCampos()">
                <label for="socioSim">Sim</label>
                <input type="radio" name="socio" value="nao" style="margin-left: 7em;" id="socioNao" class="radio-socio"
                    onchange="verificarCampos()">
                <label for="socioNao">Não</label>
            </div>
        </div>
        <div id="divlgpd">
            <br>
            <input type="checkbox" id="lgpd" onchange="verificarCampos()">
            <label for="lgpd">Aceito os termos da LGPD</label>
        </div>
        <div id="modaldiv" style="text-align: right;">
            <br>
            <a href="#" id="abrirModal" class="link-modal">Saiba mais sobre a LGPD</a>
        </div>
        <ul style="visibility: hidden;">
            <li style="visibility: hidden;"><a style="visibility: hidden;"
                    href="instagram://user?username=cresolalianca" id="meuLink"></a></li>
        </ul>
        <div id="mensagem2" style="display: none;text-align: center;">Preencher todos os campos</div>
        <div id="botao" style="text-align: center;">
            <button style="text-align: center;" onclick="pegarDados()">Confirmar</button>
        </div>
        <!-- Modal -->
        <div id="modal" class="modal">
            <div class="modal-conteudo">
                <span class="fecharModal" id="fecharModal">&times;</span>
                <h2>LGPD - Lei Geral de Proteção de Dados</h2>
                <p>A Lei Geral de Proteção de Dados Pessoais (LGPD), Lei n° 13.709/2018, foi promulgada para proteger os
                    direitos fundamentais de liberdade e de privacidade e a livre formação da personalidade de cada
                    indivíduo. A Lei fala sobre o tratamento de dados pessoais, dispostos em meio físico ou digital,
                    feito por pessoa física ou jurídica de direito público ou privado, englobando um amplo conjunto de
                    operações que podem ocorrer em meios manuais ou digitais.</p>
                <p>Os dados registrados neste formulário, serão armazenados em nuvem, e serão gerenciados pela Cresol.
                </p>
                <p>Estes, serão utilizados exclusivamente para realização do sorteio e futuros contatos para oferta de
                    nossos serviços financeiros.</p>
                <!-- Adicione o texto referente à LGPD aqui -->
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        async function pegarDados() {
            var nome = document.getElementById('nome').value.toUpperCase()
            var cpf = document.getElementById('cpf').value;
            var telefone = document.getElementById('telefone').value;
            var lgpdCheckbox = document.getElementById('lgpd');
            let now = new Date
            // Obtenha uma referência aos radio buttons
            var radioSim = document.getElementById('socioSim');
            var radioNao = document.getElementById('socioNao');

            // Verifique qual radio button está selecionado
            var escolha = "";
            if (radioSim.checked) {
                escolha = "Sim";
            } else if (radioNao.checked) {
                escolha = "Não";
            }
            const titulo = document.getElementById("titulo");
            const titulo2 = document.getElementById("titulo2");
            const divnome = document.getElementById("divnome");
            const divcpf = document.getElementById("divcpf");
            const divtelefone = document.getElementById("divtelefone");
            const divlgpd = document.getElementById("divlgpd");
            const botao = document.getElementById("botao");
            const mensagem2 = document.getElementById("mensagem2");
            const modaldiv = document.getElementById("modaldiv");
            const divsocio = document.getElementById("divsocio");
            titulo.textContent = "Quase lá...";
            titulo2.textContent = "Para finalizar, siga o perfil da Cresol Aliança no Instagram!";
            divnome.style.display = "none";
            divcpf.style.display = "none";
            divtelefone.style.display = "none";
            divlgpd.style.display = "none";
            botao.style.display = "none";
            mensagem2.style.display = "none";
            modaldiv.style.display = "none";
            divsocio.style.display = "none";
            await salvar(now, nome, cpf, telefone, escolha)
            await clicarNoLink()
        }
        function clicarNoLink() {
            var link = document.getElementById("meuLink");
            if (link) {
                link.click();
            }
        }
        function verificarCampos() {
            var nome = document.getElementById('nome').value;
            var cpf = document.getElementById('cpf').value;
            var telefone = document.getElementById('telefone').value;
            var lgpdCheckbox = document.getElementById('lgpd');
            var socioSim = document.getElementById('socioSim');
            var socioNao = document.getElementById('socioNao');

            if (nome !== "" && cpf !== "" && telefone !== "" && lgpdCheckbox.checked && (socioSim.checked || socioNao.checked)) {
                document.getElementById('mensagem2').style.display = 'none';
                document.getElementById("botao").style.display = 'block';
                document.getElementById("botao").style.textAlign = 'center';

            } else {
                document.getElementById('mensagem2').style.display = 'block';
                document.getElementById("botao").style.display = 'none';
            }
        }
        // Função para abrir o modal
        function abrirModal() {
            var modal = document.getElementById("modal");
            modal.style.display = "block";
        }

        // Função para fechar o modal
        function fecharModal() {
            var modal = document.getElementById("modal");
            modal.style.display = "none";
        }

        // Evento de clique no link para abrir o modal
        document.getElementById("abrirModal").addEventListener("click", abrirModal);

        // Evento de clique no botão de fechar o modal
        document.getElementById("fecharModal").addEventListener("click", fecharModal);

        // Fechar o modal se o usuário clicar fora dele
        window.addEventListener("click", function (event) {
            var modal = document.getElementById("modal");
            if (event.target == modal) {
                modal.style.display = "none";
            }
        });
    </script>
</body>

</html>